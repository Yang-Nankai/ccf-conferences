
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>POPL 2022</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
</head>
<body>
<div class="conference-row" id="conference-row">
    <div class="conference-info" id="conference-info">
        Loading conference data...
    </div>
</div>
<script>
function renderCountdown(targetId, deadline) {
    const el = document.getElementById(targetId);
    function update() {
        const now = new Date();
        if (!deadline || deadline === 'TBD') return el.textContent = 'TBD';
        const diff = new Date(deadline) - now;
        if (diff <= 0) return el.textContent = 'Passed';
        const days = Math.floor(diff / (1000*60*60*24));
        const hours = Math.floor((diff / (1000*60*60)) % 24);
        const minutes = Math.floor((diff / (1000*60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);
        el.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    update();
    setInterval(update, 1000);
}

(function() {
    const abstractDeadline = "TBD";
    const submitDeadline = "2021-07-08 23:59:59";

    document.getElementById('conference-info').innerHTML = `
        <h3 class="conference-title">
            <a href="https://dblp.uni-trier.de/db/conf/popl" class="link">POPL</a> 2022 
            <span class="tag">CCF A</span>
        </h3>
        <p class="conference-date">January 16-22, 2022 Â· Westin Philadelphia</p>
        <p class="conference-desc">ACM SIGPLAN-SIGACT Symposium on Principles of Programming Languages</p>
        <div class="conference-tags">
            <span class="note"><b>NOTE:</b> abstract deadline on TBD</span>
        </div>
        <div class="deadline-info">
            <div class="deadline-dates">
                <div class="deadline-item"><strong>Abstract Due:</strong> <span id="abstract-countdown">Loading...</span></div>
                <div class="deadline-item"><strong>Submit Due:</strong> <span id="submit-countdown">Loading...</span></div>
            </div>
            <p class="deadline-text">Deadline: 2021-07-08 23:59:59</p>
            <p class="website">Website: <a href="https://popl22.sigplan.org/" class="link">https://popl22.sigplan.org/</a></p>
        </div>
    `;

    renderCountdown("abstract-countdown", abstractDeadline);
    renderCountdown("submit-countdown", submitDeadline);
})();
</script>
</body>
</html>
